# -------------------------
# App Info
# -------------------------
spring.application.name=stayops

# -------------------------
# Server Config
# -------------------------
# Bind to all interfaces so backend is reachable from other devices on LAN
server.address=0.0.0.0
server.port=8080

# -------------------------
# HTTP Configuration
# -------------------------
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true
spring.mvc.contentnegotiation.favor-parameter=false
spring.mvc.contentnegotiation.favor-path-extension=false
spring.mvc.contentnegotiation.media-types.json=application/json
spring.mvc.contentnegotiation.parameter-name=mediaType

# -------------------------
# Database Config (MySQL)
# -------------------------
spring.datasource.url=jdbc:mysql://localhost:3306/StayOps?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=Hello@3126
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=true

# -------------------------
# Spring Security
# -------------------------
spring.security.user.name=admin
spring.security.user.password=admin

# -------------------------
# File Upload Config
# -------------------------
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# -------------------------
# Cloudinary Config
# -------------------------
cloudinary.cloud_name=di4v3fcqi
cloudinary.api_key=919748897531526
cloudinary.api_secret=BoPIMyYd48FK4QooxmoEU7JEckU

# -------------------------
# JWT Configuration
# -------------------------
jwt.secret=myVerySecretKeyThatIsAtLeast256BitsLongForHS256AlgorithmSecureKey2024
jwt.expiration=86400

# -------------------------
# Email Configuration (Gmail SMTP - Free)
# -------------------------
# Replace 'your-hotel-email@gmail.com' with your actual Gmail address
# Replace 'your-app-password' with the App Password you generated from Gmail
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=chanmunekp@gmail.com
spring.mail.password=deia luje oicc fniz
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# -------------------------
# Thymeleaf Configuration
# -------------------------
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.cache=false
spring.thymeleaf.check-template=true
spring.thymeleaf.check-template-location=true

# -------------------------
# Hotel Email Settings
# -------------------------
app.base-url=http://0.0.0.0:8080
app.hotel-name=StayOps

# -------------------------
# Logging Configuration (for debugging)
# -------------------------
logging.level.com.example.stayops.security=DEBUG
logging.level.com.example.stayops.util=DEBUG
logging.level.com.example.stayops.service=DEBUG
logging.level.com.example.stayops.controller=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web.cors=DEBUG

# Add email logging for debugging
logging.level.com.example.stayops.service.impl.EmailServiceImpl=DEBUG
logging.level.org.springframework.mail=DEBUG
logging.level.org.thymeleaf=DEBUG

# -------------------------
# Development Profile Settings
# -------------------------
spring.profiles.active=dev

# Show detailed error messages in development
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on-param
server.error.include-exception=false

logging.level.com.example.stayops.security.JwtRequestFilter=TRACE
logging.level.org.springframework.security.web.FilterChainProxy=DEBUG